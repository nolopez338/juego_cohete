<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rocket Gate Game</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- UI stays normal size -->
<div id="topPanelRow">
    <div id="topControls" class="panel">
        <div class="panelHeader">
            <span>Sliders</span>
            <button class="panelToggle" data-target="topControls" aria-label="Toggle slider panel">−</button>
        </div>
        <div class="panelBody">
            <div class="controlRow">
                <span>Y pos</span>
                <input type="range" id="ySlider" min="-100" max="100" value="0">
                <input type="number" id="yInput" class="numInput" min="-100" max="100" value="0">
            </div>

            <div class="controlRow">
                <span>Slope</span>
                <input type="range" id="slopeSlider" min="-10" max="10" step="0.1" value="0">
                <input type="number" id="slopeInput" class="numInput" min="-10" max="10" step="0.1" value="0">
            </div>

            <div class="controlRow">
                <span>Quad</span>
                <input type="range" id="quadSlider" min="-1" max="1" step="0.01" value="0">
                <input type="number" id="quadInput" class="numInput" min="-1" max="1" step="0.01" value="0">
            </div>

            <div class="controlRow">
                <span>Cubic</span>
                <input type="range" id="cubicSlider" min="-0.01" max="0.01" step="0.0001" value="0">
                <input type="number" id="cubicInput" class="numInput" min="-0.01" max="0.01" step="0.0001" value="0">
            </div>

            <div class="controlRow">
                <span>Rocket Size</span>
                <input type="range" id="rocketSizeSlider" min="0.5" max="2" step="0.05" value="1">
                <input type="number" id="rocketSizeInput" class="numInput" min="0.5" max="2" step="0.05" value="1">
            </div>

            <div class="controlRow">
                <button id="resetBtn" class="secondaryBtn">Reset</button>
                <button id="restartBtn" class="secondaryBtn">Restart</button>
                <button id="nextBtn" class="secondaryBtn">Next</button>
            </div>
        </div>
    </div>

    <div id="gateControls" class="panel">
        <div class="panelHeader">
            <span>Gates</span>
            <button class="panelToggle" data-target="gateControls" aria-label="Toggle gate controls panel">−</button>
        </div>
        <div class="panelBody">
            <div class="controlRow">
                <span>X</span>
                <input type="number" id="gateXInput" class="numInput" value="0" step="50">
                <span>Y1</span>
                <input type="number" id="gateY1Input" class="numInput" value="-200" step="50">
                <span>Y2</span>
                <input type="number" id="gateY2Input" class="numInput" value="200" step="50">
                <button id="addGateBtn">Add Gate</button>
            </div>
            <div id="gateList"></div>
        </div>
    </div>

    <div id="savedLevelsPanel" class="panel">
        <div class="panelHeader">
            <span>Saved Levels</span>
            <button class="panelToggle" data-target="savedLevelsPanel" aria-label="Toggle saved levels panel">−</button>
        </div>
        <div class="panelBody">
            <div id="savedLevelsList" class="savedLevelButtons"></div>
        </div>
    </div>
</div>

<div id="scoreDisplay">
    <div class="scoreRow">
        <span>Total gates this run:</span> <span id="totalGatesCount">0</span>
    </div>
    <div class="scoreRow">
        <span style="color:lime;">Hits:</span> <span id="hitsCount">0</span>
    </div>
    <div id="hitsDots"></div>
    <div class="scoreRow">
        <span style="color:red;">Misses:</span> <span id="missCount">0</span>
    </div>
    <div id="missDots"></div>
</div>

<!-- MAP ONLY (zoom + pan) -->
    <div id="zoomContainer">
        <div id="gameArea">
            <svg id="gridSvg" xmlns="http://www.w3.org/2000/svg"></svg>
            <svg id="gateSvg" xmlns="http://www.w3.org/2000/svg"></svg>
            <canvas id="trailCanvas"></canvas>
            <div id="rocket" class="rocket" aria-hidden="true">
                <svg class="rocketIcon" viewBox="0 0 60 90" role="presentation" focusable="false">
                    <defs>
                        <linearGradient id="rocketBody" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#ff5f6d" />
                            <stop offset="100%" stop-color="#ffc371" />
                        </linearGradient>
                    </defs>
                    <g>
                        <path d="M30 4 C34 12 42 32 42 50 C42 64 37 82 30 86 C23 82 18 64 18 50 C18 32 26 12 30 4 Z" fill="url(#rocketBody)" stroke="#7a1b1b" stroke-width="2" />
                        <ellipse cx="30" cy="45" rx="9" ry="12" fill="#0d2c54" stroke="#0b1e38" stroke-width="2" />
                        <path d="M18 52 L8 64 L20 60 Z" fill="#f4a261" stroke="#c77422" stroke-width="2" />
                        <path d="M42 52 L52 64 L40 60 Z" fill="#f4a261" stroke="#c77422" stroke-width="2" />
                        <path d="M26 84 C28 88 32 88 34 84 C32 82 28 82 26 84 Z" fill="#f77f00" stroke="#c85c02" stroke-width="2" />
                    </g>
                </svg>
            </div>
        </div>
    </div>

<script src="script.js"></script>
</body>
</html>
